
{% extends 'TempHamza/back.html.twig' %}
{% block body %}

            <div class="container-fluid px-4">
                <h1 class="mt-4">GESTION DE MEDECIN</h1>
                <ol class="breadcrumb mb-4">
                    <li class="breadcrumb-item active">ADMIN</li>
                </ol>
                <div class="row">
                    
<div class="col-xl-3 col-md-6">
    <button class="btn btn-primary w-100 mb-4" onclick="window.location.href='{{ path('list_patients') }}'">
        <div class="card-body">Listes des Patients</div>
        <div class="card-footer d-flex align-items-center justify-content-between">
            <span class="small text-white">Plus de Détails</span>
            <div class="small text-white"><i class="fas fa-angle-right"></i></div>
        </div>
    </button>
</div>

<div class="col-xl-3 col-md-6">
    <button class="btn btn-primary w-100 mb-4" onclick="window.location.href='{{ path('add_patient') }}'">
        <div class="card-body">Ajouter Patient</div>
        <div class="card-footer d-flex align-items-center justify-content-between">
            <span class="small text-white">Plus de Détails</span>
            <div class="small text-white"><i class="fas fa-angle-right"></i></div>
        </div>
    </button>
</div>

<div class="col-xl-3 col-md-6">
    <button class="btn btn-danger w-100 mb-4" onclick="window.location.href='{{ path('list_medecins') }}'">
        <div class="card-body">Listes des Medecins</div>
        <div class="card-footer d-flex align-items-center justify-content-between">
            <span class="small text-white">Plus de Détails</span>
            <div class="small text-white"><i class="fas fa-angle-right"></i></div>
        </div>
    </button>
</div>


<div class="col-xl-3 col-md-6">
    <button class="btn btn-danger w-100" onclick="window.location.href='{{ path('add_medecin') }}'">
        <div class="card-body">Ajouter Medecin</div>
        <div class="card-footer d-flex align-items-center justify-content-between">
            <span class="small text-white">Explore More</span>
            <div class="small text-white"><i class="fas fa-angle-right"></i></div>
        </div>
    </button>
</div>

                                    <div class="card-header">
                        <div class="card-body">
                            <form action="{{ path('search_patient') }}" method="get" class="mb-4">
                                <div class="input-group">
                                    <input type="text" name="searchInput" class="form-control" placeholder="Search by name or email">
                                    <button type="submit" class="btn btn-primary">Search</button>
                                </div>
                            </form>

                
                    <div class="card-header">

                    <div class="card-body">
                        <table id="datatablesSimple">
                            <thead>
                            <tr>

                            </tr>
                            </thead>
                            <tfoot>
                            <tr>
                          <table class="table table-bordered mt-4">
                            <thead class="thead-dark">
                                <tr>
                                    <th>ID</th>
                                    <th>Last Name</th>
                                    <th>First Name</th>
                                    <th>Date of Birth</th>
                                    <th>Insurance Number</th>
                                    <th>Disease</th>
                                    <th>Email</th>
                                    <th>Password</th>
                                    <th>Action</th>
                                </tr>
                            </thead>
                            <tbody>
                                {% for patient in patients %}
                                <tr>
                                    <td>{{ patient.id }}</td>
                                    <td>{{ patient.nom }}</td>
                                    <td>{{ patient.prenom }}</td>
                                    <td>{{ patient.datenai | date }}</td>
                                    <td>{{ patient.numassu }}</td>
                                    <td>{{ patient.maladie }}</td>
                                    <td>{{ patient.emailp }}</td>
                                    <td>{{ patient.password }}</td>
                                    <td>
<form action="{{ path('delete_patient', {'id': patient.id}) }}" method="post" onsubmit="return confirm('Are you sure you want to delete this patient?');">
    <input type="hidden" name="_token" value="{{ csrf_token('delete' ~ patient.id) }}">
    <button type="submit" class="btn btn-danger btn-sm">Delete</button>
                                           <a href="{{ path('edit_patient', {id: patient.id}) }}" class="btn btn-primary btn-sm">Update</a>

</form>

                                    </td>
                                </tr>
                                {% endfor %}
                            </tbody>
                        </table>
{% endblock %}